<div class="panel panel-default">
    <div class="panel-heading" style="border-color:none;">
        <div class="button-close" ng-click="cancel()">
            <i class="fa fa-times-circle"></i>
        </div>
    </div>
    <div class="panel-body">
        <div id="main-report">
            <br />
            <style>
                .date-time,
                th,
                td,
                span {
                    font-size: 14px;
                    font-family: 'Times New Roman';
                }

                th,
                td {
                    padding: 2px;
                }

                .header-report {
                    margin-bottom: 30px;
                }

                    .header-report table,
                    .infor-report table {
                        width: 100%;
                        padding-left: 20px;
                        border: 0;
                    }

                .infor-report {
                    padding-left: 10px;
                }

                .data-report table {
                    width: 100%;
                    border: 1px solid;
                    border-collapse: collapse;
                }

                    .data-report table thead tr th,
                    .data-report table tbody.data-detail tr td {
                        border: 1px solid;
                    }

                    .data-report table tbody.data-detail tr td {
                        font-size: 13px !important;
                    }

                .infor-report table tr td {
                    position: relative;
                }

                .dotted-description {
                    position: absolute;
                    width: calc(100% - 110px);
                    border-bottom: 1px dotted;
                }

                .signature-place table {
                    width: 100%;
                }

                .signature-place .date-time {
                    float: right;
                    font-style: italic;
                    padding: 10px 30px 5px 10px;
                }

                .signature-place table thead tr th {
                    text-align: center;
                }

                .signature-place table tbody tr td {
                    text-align: center;
                }

                .end-page {
                    height: 100px;
                }

                .label-info-report {
                    float: left;
                    font-weight: bold;
                }

                .info-company-top-left {
                    float: left;
                    text-align: left;
                    font-weight: bold;
                }

                .info-datereport-top-right {
                    float: right;
                    text-align: right;
                    font-style: italic;
                }

                .name-report {
                    text-align: center;
                    font-weight: bold;
                    font-size: 22px !important;
                    padding: 5px;
                }

                .info-contract-attachment {
                    text-align: center;
                    font-style: italic;
                }

                .text-center {
                    text-align: center;
                    font-weight: bold;
                }

                .name-tong-hop {
                    text-align: right;
                    font-weight: bold;
                }

                .value-tong-hop {
                    font-weight: bold;
                    text-align: right;
                }
            </style>

            <div id="dataTable">
                <div class="infor-report">
                    <table>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Mã hóa đơn:</div>
                                <span><b>&nbsp;{{data.maGiaoDich}}</b></span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Mã khách hàng:</div>
                                <span><b>&nbsp;{{data.maKhachHang}}</b></span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Mã / Tên nhân viên: </div>
                                <span>&nbsp;{{data.maNguoiTao}} / {{data.nguoiTao}}</span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Tên khách hàng:</div>
                                <span><b>&nbsp;{{data.tenKhachHang}}</b></span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Ngày giao dịch: </div>
                                <span>&nbsp;{{data.ngayPhatSinh | date : "dd/MM/yyyy"}}</span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Tổng điểm: </div>
                                <span>&nbsp;{{data.tongTien | number}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Mã voucher: </div>
                                <span>&nbsp;{{data.maVoucher}}</span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Tiền nguyên giá: </div>
                                <span>&nbsp;{{data.tienNguyenGia | number}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Tiền khuyến mại voucher: </div>
                                <span>&nbsp;{{data.tienVoucher | number}}</span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Tiền sale: </div>
                                <span>&nbsp;{{data.tienSale | number}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="label-info-report">Loại giao dịch: </div>
                                <span><b>&nbsp;Bán lẻ</b></span>
                            </td>
                            <td colspan="2">
                                <div class="label-info-report">Hạng khách hàng: </div>
                                <span>&nbsp;{{data.hangKhachHang}}</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <br>
            <div class="data-report">
                <table>
                    <thead>
                        <tr>
                            <th class="text-center" style="width: 3%">STT</th>
                            <th class="text-center" style="width: 10%">Mã hàng</th>
                            <th class="text-center" style="width: 20%">Tên hàng</th>
                            <th class="text-center" style="width: 6%; ">Số lượng</th>
                            <th class="text-center" style="width: 6%; ">Đơn giá</th>
                            <th class="text-center" style="width:6%; ">Tỷ lệ voucher</th>
                            <th class="text-center" style="width: 6%; ">Tiền voucher</th>
                            <th class="text-center" style="width: 6%; ">Thành tiền</th>
                        </tr>
                    </thead>
                    <tbody class="data-detail">
                        <tr ng-repeat="item in data.dataDetails">
                            <td style="text-align:center;">{{$index + 1}}</td>
                            <td>
                                {{item.maVatTu}}
                            </td>
                            <td>
                                {{item.tenDayDu}}
                            </td>
                            <td style="text-align:right;">
                                {{item.soLuong}}
                            </td>
                            <td style="text-align:right;">
                                {{item.giaBanLeCoVat | number}}
                            </td>
                            <td style="text-align:right;">
                                {{(item.tyLeVoucher === null ? 0 : item.tyLeVoucher) | number}} %
                            </td>
                            <td style="text-align:right;">
                                {{(item.tienVoucher === null ? 0 : item.tienVoucher) | number}}
                            </td>
                            <td style="text-align:right;">
                                {{item.tTienCoVat | number}}
                            </td>
                        </tr>
                    </tbody>
                    <tbody class="tong-hop">
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tổng tiền hóa đơn:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienVoucher + data.tienThe + data.tienCOD + data.tienMat | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền phải trả:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienKhachDua | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tổng số lượng:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{robot.sum(data.dataDetails, 'soLuong') | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền voucher:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienVoucher === null ? 0 : data.tienVoucher | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền thẻ:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienThe === null ? 0 : data.tienThe | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền COD:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienCOD === null ? 0 : data.tienCOD | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền mặt:</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienMat === null ? 0 : data.tienMat | number}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"></td>
                            <td colspan="1" style="text-align:left;" class="name-tong-hop">Tiền thừa</td>
                            <td style="text-align:right;" class="value-tong-hop">{{data.tienThua === null ? 0 : data.tienThua | number}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>