<div style="font-size:19px;">
    <div class="modal-header">
        <h3 class="modal-title">{{title()}}  {{lbl.lblCreate}}</h3>
        <div class="button-close" ng-click="cancel()">
            <i class="fa fa-times-circle"></i>
        </div>
    </div>
    <div class="row" id="reportBill" style="display:none">
        <table id='bill_heder' cellpadding='0px' style='width:100%'>
            <tr>
                <td style="font-weight:bold;font-size: 14px;text-align:center;">{{displayHepler(target.dataDto.unitCode,'auDonVis').description}}</td>
            </tr>
            <tr>
                <td style="padding-left:5px;font-size: 10px;">ĐỊA CHỈ: {{displayHepler(target.dataDto.unitCode,'auDonVis').extendValue}}</td>
            </tr>
            <tr>
                <td style="padding-left:5px;font-size: 10px;">ĐIỆN THOẠI: {{displayHepler(target.dataDto.unitCode,'auDonVis').referenceDataId}}</td>
            </tr>
            <tr>
                <td style="font-size: 12px;text-align:center"><b>HÓA ĐƠN THANH TOÁN</b></td>
            </tr>
            <tr>
                <td style="font-size: 10px;text-align:center">Mã:{{target.dataDto.maGiaoDich}} - ngày:{{target.dataDto.ngayChungTu | date:'dd-MM-yyyy'}}</td>
            </tr>
        </table>
        <table id='bill_kh' cellpadding='0px' style='width:100%'>
            <tr>
                <td style="padding-left:5px;font-size: 10px;">Người bán: {{target.dataDto.maNhanVien}}</td>
            </tr>
            <tr>
                <td style="padding-left:5px;font-size: 10px;">Phone/KH: {{target.dataDto.makh}} - {{mdFormatLabel(target.dataDto.makh,'customers').text}}</td>
            </tr>
            <tr>
                <td style="padding-left:5px;font-size: 10px;">Mã thẻ/Hạng/Điểm: {{target.dataDto.maThe}}/{{target.dataDto.maThe}}/{{target.dataDto.maThe}}</td>
            </tr>
        </table>
        <table id='bill_content' class="table_bill_content" cellpadding='0px' style='width:105%;border:1px solid;left:0px'>
            <tr style="font-weight:bold;font-size:11px;text-align:center;">
                <td>MÃ
                <td>
                <td>TÊN
                <td>
                <td>SL
                <td>
                <td>GIÁ
                <td>
                <td>CK
                <td>
                <td>TIỀN
                <td>
            </tr>
            <tr style="font-size: 12px;text-align:center;" ng-repeat="item in target.dataDetails">
                <td>{{item.maVatTu}}
                <td>
                <td>{{item.tenVatTu}}
                <td>
                <td>{{item.soLuong | number}}
                <td>
                <td>{{item.giaBanLeVat | number}}
                <td>
                <td ng-if="!item.tyLeChietKhau">{{item.tienDuocKhuyenMai | number}}
                <td ng-if="item.tyLeChietKhau">{{item.tienDuocKhuyenMai | number}}({{item.tyLeLaiLe}}%)
                <td>
                <td>{{item.tTienCoVat | number}}
                <td>
            </tr>
        </table>
        <table id='bill_kh_payment' cellpadding='0px' style='width:100%;font-size: 10px;'>
            <tr>
                <td>Tổng tiền hóa đơn</td>
                <td style="text-align:right;">{{(target.dataDto.tongTien)| number}}</td>
            </tr>
            <tr>
                <td>Tiền khuyến mại</td>
                <td style="text-align:right;">{{target.dataDto.tongTienKhuyenMai | number}}</td>
            </tr>
            <tr>
                <td>Tiền voucher</td>
                <td style="text-align:right;">  {{target.dataDto.tienVoucher | number}}</td>
            </tr>
            <tr>
                <td style="font-weight:bold;font-size:11px;">Tiền khách phải trả</td>
                <td style="text-align:right;font-weight:bold;"> {{target.dataDto.allSumTienHang | number}}</td>
            </tr>

            <tr>
                <td>Tiền thẻ</td>
                <td style="text-align:right;">  {{target.dataDto.tienThe | number}}</td>
            </tr>
            <tr>
                <td>Tiền COD</td>
                <td style="text-align:right;">  {{target.dataDto.tienCOD | number}}</td>
            </tr>
            <tr>
                <td>Tiền mặt</td>
                <td style="text-align:right;">  {{target.dataDto.tienMat | number}}</td>
            </tr>
            <tr>
                <td>Tiền trả lại</td>
                <td style="text-align:right;"> {{target.dataDto.tienThua | number}}</td>
            </tr>
        </table>
    </div>
    <div class="modal-body">
        <form role="form" name="_form">
            <div class="row form-group">
                <div class="col-lg-12">
                    <label style="color:red;">TIỀN PHẢI TRẢ</label>
                    <input style="font-size: 22px;color:red;text-align:right;" type="text" class="form-control" ng-model="target.dataDto.allSumTienHang" min="0" format="number" disabled="">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>TIỀN THẺ</label>
                    <input style="font-size: 22px;text-align:right;" type="text" select-on-click format="number" class="form-control" ng-model="target.dataDto.tienThe" ng-change="enterTienThe(target.dataDto.tienThe)" min="0">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>TIỀN COD</label>
                    <input style="font-size: 22px;text-align:right;" type="text" select-on-click format="number" class="form-control" ng-model="target.dataDto.tienCOD" ng-change="enterTienCOD(target.dataDto.tienCOD)" min="0">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>TIỀN MẶT</label>
                    <input style="font-size: 22px;text-align:right;" type="text" select-on-click format="number" class="form-control" ng-model="target.dataDto.tienMat" ng-change="enterTienMat(target.dataDto.tienMat)" min="0">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>TIỀN TRẢ LẠI KHÁCH</label>
                    <input style="font-size: 22px;text-align:right;" type="text" class="form-control" select-on-click format="number" ng-model="target.dataDto.tienThua" min="0" disabled="">
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>NỘI DUNG</label>
                    <textarea style="width:100%;" rows="3" class="input-border-form" ng-model="target.dataDto.noiDung"></textarea>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-lg-12">
                    <label>TRẠNG THÁI THANH TOÁN</label>
                    <select style="width:100%;" class="form-control" ng-model="target.dataDto.trangThaiThanhToan" ng-options="opt.value as opt.text for opt in tempData('trangThaiThanhToan')"></select>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button prevent-default type="submit" class="btn btn-primary" ng-disabled="target.dataDto.tienThua < 0 || undisabled" ng-click="printDiv('reportBill')">In hóa đơn</button>
    </div>

</div>